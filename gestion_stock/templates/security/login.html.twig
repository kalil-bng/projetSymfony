{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block stylesheets %}
    <style>
        body {
            background: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%);
        }
        .card {
            border-radius: 18px;
            box-shadow: 0 4px 24px rgba(44, 62, 80, 0.10);
            background: #fff;
        }
        .card-header {
            background: linear-gradient(90deg, #43cea2 0%, #185a9d 100%) !important;
            color: #fff !important;
            border-top-left-radius: 18px !important;
            border-top-right-radius: 18px !important;
        }
        .btn-primary {
            background: linear-gradient(90deg, #43cea2 0%, #185a9d 100%);
            border: none;
            font-weight: bold;
            letter-spacing: 1px;
        }
        .btn-primary:hover {
            background: linear-gradient(90deg, #185a9d 0%, #43cea2 100%);
        }
        .form-label {
            color: #185a9d;
            font-weight: 500;
        }
        .card-footer {
            background: #f5f7fa;
            border-bottom-left-radius: 18px;
            border-bottom-right-radius: 18px;
        }
        .alert-danger {
            background: #ffe5e9;
            color: #c0392b;
            border: none;
        }
    </style>
{% endblock %}

{% block body %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-4">
            <div class="card shadow-lg border-0 mt-5">
                <div class="card-header text-white text-center">
                    <h4 class="mb-0">
                        <i class="bi bi-box-arrow-in-right"></i> Connexion
                    </h4>
                </div>
                <div class="card-body p-4">
                    {% if error %}
                        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                    {% endif %}

                    <form method="post">
                        <div class="mb-3">
                            <label for="inputEmail" class="form-label">Email</label>
                            <input type="email" value="{{ last_username }}" name="username" id="inputEmail" 
                                   class="form-control" autocomplete="email" required autofocus>
                        </div>

                        <div class="mb-3">
                            <label for="inputPassword" class="form-label">Mot de passe</label>
                            <input type="password" name="password" id="inputPassword" 
                                   class="form-control" autocomplete="current-password" required>
                        </div>

                        <div class="mb-3 form-check">
                            <input class="form-check-input" type="checkbox" value="ROLE_ADMIN" id="roleAdmin" name="role_admin">
                            <label class="form-check-label" for="roleAdmin">
                                Se connecter en tant qu'administrateur
                            </label>
                        </div>

                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                        <div class="d-grid">
                            <button class="btn btn-primary" type="submit">
                                <i class="bi bi-box-arrow-in-right"></i> Se connecter
                            </button>
                        </div>
                    </form>
                </div>
                <div class="card-footer text-center">
                    <small class="text-muted">
                        Pas encore de compte ? 
                        <a href="{{ path('app_register') }}" class="text-decoration-none">S'inscrire</a>
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}